<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Volk & David Management Systems</title>


    <!-- font awesome files -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.0/css/all.css"
        integrity="sha384-lZN37f5QGtY3VHgisS14W3ExzMWZxybE1SJSEsQp9S+oqd12jhcu+A56Ebc1zFSJ" crossorigin="anonymous">

    <!-- jquery link -->
    <script src="https://code.jquery.com/jquery-3.5.0.js"></script>

    <!-- bootstrap CDN -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
        integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">


    <link rel="stylesheet" type="text/css" href="/assets/css/register.css">
    <link rel="stylesheet" type="text/css" href="/assets/css/index.css">



</head>



<body>



    <!-- header section -->
    <%- include("partials/header.ejs") %>

        <!-- main content section start -->
        <section class="mainSection container" style=" padding: 0px; margin: auto;">

            <!-- left side bar -->
            <%- include("partials/sideBar.ejs") %>



                <!-- main container -->
                <div class="mainContentBar mt-2">

                    <div class="notificationOuterBox">

                        <div class="notificationBoxHeader">
                            <span class="headerTitle">
                                Invoice <span></span>
                            </span>
                            <div class="MainBoxHeaderButtons">

                                <button id="downloadPDFBtn">
                                    <i class="fas fa-arrow-down"></i> Download (.pdf)
                                </button>
                               
                            </div>
                        </div>

                        <hr>

                        <div class="notificationContentBox">

                            <div class="invoiceHeader">
                                <div class="invoiceLogo">
                                    <img src="/upload/logo 3.png">
                                </div>
                                <div class="invoiceTitle">
                                    <h3>Invoice</h3>

                                    <div class="invoiceNumberBox">
                                        <span>NTN No: <span >
                                                <%=currentUser.NTNNumber%>
                                            </span></span>
                                        <span>INC No: <span >
                                                <%=currentUser.INCNumber%>
                                            </span></span>
                                    </div>

                                </div>

                            </div>

                            <hr>

                            <div class="mainInvoiceContentSection">


                                <div class="billToBox">
                                    <h3>Invoice To</h3>
                                    <h4 class="billToName">
                                        <%=currentUser.Name%>
                                    </h4>
                                    <p>Address: <span>
                                            <%=currentUser.Address%>
                                        </span></p>
                                    <p>Phone:<span>
                                            <%=currentUser.Phone%>
                                        </span></p>
                                    <p>Email: <span>
                                            <%=currentUser.Email%>
                                        </span></p>
                                    <p>NTN: <span>
                                            <%=currentUser.NTNNumber%>
                                        </span> </p>
                                </div>

                                <div class="invoiceDate">
                                    <h6>Invoice Details</h6>
                                    <div class="invoiceDeteDetials">
                                        <div class="invoiceDeteDetialsItem">
                                            <span class="invoiceDateTitle">Invoice No:</span>
                                            <span>
                                                <%=currentUser.InvoiceNo%>
                                            </span>
                                        </div>

                                        <div class="invoiceDeteDetialsItem">
                                            <span class="invoiceDateTitle">Date:</span>
                                            <span>
                                                <%=currentUser.date%>
                                            </span>
                                        </div>
                                        <div class="invoiceDeteDetialsItem invoiceAmmount">
                                            <span class="invoiceDateTitle">Ammount Due:</span>
                                            <span>
                                                <%=currentUser.GrandTotal%>.00
                                            </span>
                                        </div>

                                    </div>
                                </div>

                            </div>
                            <hr>

                            <div class="amountInWord">
                                <div class="amountInWordBox1">
                                    Amount in Words:
                                </div>
                                <div class="amountInWordBox2">
                                    <%=currentUser.AmountInWords%>
                                </div>
                            </div>



                            <div class="tableOuterBox">
                                <table class="invoiceTable mt-5">
                                    <thead>
                                        <tr>
                                            <th>
                                                Sr
                                            </th>
                                            <th>
                                                Description
                                            </th>
                                            <th>
                                                Qty
                                            </th>
                                            <th>
                                                Unit Price
                                            </th>
                                            <th>
                                                Total Price
                                            </th>
                                            <th>
                                                Discount
                                            </th>
                                            <th>
                                                Net Price
                                            </th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <%for(var x=0; x < InvoiceItem.length; x++){%>
                                            <tr>
                                                <td>
                                                    <%=[x+1]%>
                                                </td>
                                                <td>
                                                    <%=InvoiceItem[x].description%>
                                                </td>
                                                <td>
                                                    <%=InvoiceItem[x].qty%>

                                                </td>
                                                <td>
                                                    <%=InvoiceItem[x].unitPrice%>.00
                                                </td>
                                                <td>
                                                    <%=InvoiceItem[x].totalPrice%>.00
                                                </td>
                                                <td>
                                                    <%=InvoiceItem[x].discount%>
                                                </td>
                                                <td>
                                                    <%=InvoiceItem[x].netPrice%>.00
                                                </td>
                                            </tr>
                                            <%}%>
                                    </tbody>
                                </table>
                            </div>
                            <div class="invoiceSummaryBox mt-5">

                                <div class="paymentInfo">
                                    <h3>Payment Info</h3>
                                    <div class="invoiceDeteDetialsItem">
                                        <span class="invoiceDateTitle"> Payment Method:</span>
                                        <span>
                                            <%=currentUser.Payment_Method%>
                                        </span>
                                    </div>
                                    <div class="invoiceDeteDetialsItem">
                                        <span class="invoiceDateTitle"> Account Title:</span>
                                        <span>
                                            <%=currentUser.Account_Title%>
                                        </span>
                                    </div>
                                    <div class="invoiceDeteDetialsItem">
                                        <span class="invoiceDateTitle"> Account Number:</span>
                                        <span>
                                            <%=currentUser.Account_Number%>
                                        </span>
                                    </div>
                                </div>

                                <div class="invoiceSummary">
                                    <h3>Summary</h3>
                                    <div class="invoiceDeteDetialsItem">
                                        <span class="invoiceDateTitle"> SubTotal:</span>
                                        <span>
                                            <%=currentUser.SubTotal%>.00
                                        </span>
                                    </div>
                                    <div class="invoiceDeteDetialsItem">
                                        <span class="invoiceDateTitle"> Tax:</span>
                                        <span>
                                            <%=currentUser.Tax%>.00
                                        </span>
                                    </div>
                                    <div class="invoiceDeteDetialsItem">
                                        <span class="invoiceDateTitle"> Balance Due:</span>
                                        <span>
                                            <%=currentUser.GrandTotal%>.00
                                        </span>
                                    </div>
                                </div>




                            </div>


                            <hr class="mt-5">
                            <div class="invoiceSummary " style="font-size: 13px;">
                                <div class="invoiceDeteDetialsItem" style="border: none;">
                                    <span class="invoiceDateTitle">Address:</span>
                                    <span >
                                        Office No.4, 1st Floor, Al-Rehman Center, 70-Ferozepur Road, Shama Stop, Lahore
                                    </span>
                                </div>
                                <div class="invoiceDeteDetialsItem" style="border: none;">
                                    <span class="invoiceDateTitle">Phone:</span>
                                    <span >
                                        0302-2999904 / 042-37420169
                                    </span>
                                </div>
                                <div class="invoiceDeteDetialsItem" style="border: none;">
                                    <span class="invoiceDateTitle">Web:</span>
                                    <span >
                                        volksanddavid.com
                                    </span>
                                </div>
                                <div class="invoiceDeteDetialsItem" style="border: none;">
                                    <span class="invoiceDateTitle">Email:</span>
                                    <span >
                                        info@volksanddavid.com
                                    </span>
                                </div>

                            </div>



                        </div>

                    </div>



                    <footer class="mt-5">

                        <div>
                            <p>
                                copyright 2021
                            </p>
                        </div>
                        <div>
                            <p>
                                Made by wide range digital services
                            </p>
                        </div>
                    </footer>
                </div>


        </section>

</body>
<!-- Jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

<!-- Owl Carousel -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/owl-carousel/1.3.3/owl.carousel.min.js"></script>

<!-- html2pdf -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"
    integrity="sha512-GsLlZN/3F2ErC5ifS5QtgpiJtWd43JWSuIgh7mbzZ8zBps+dvLusV+eNQATqgA/HdeKFVgA5v3S/cIrLF7QnIg=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>

<!-- Slick slider JS -->
<script type="text/javascript" src="//cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.min.js"></script>



<script>

    // convert element to pdf 
    function generatePDF() {
        $('#downloadPDFBtn').click(function () {

            var invoiceElm = document.getElementsByClassName('notificationContentBox')[0];
            // $('.invoiceTable').css('width', "100%");

            console.log(invoiceElm)
            var options = {
                margin: 1,
                filename: 'invoice.pdf',
                imge: { type: "jpeg", quality: 0.98 },
                html2canvas: { scale: 2 },
                jsDF: { unit: "in", formate: "letter", orientation: "protrait" }
            }
            html2pdf().set(options).from(invoiceElm).save()

        })
    }
    generatePDF()




    var dropDownAble = document.getElementsByClassName('dropDownAble');
    dropDownAble = Array.from(dropDownAble)
    dropDownAble.forEach(function (elm, index) {
        elm.addEventListener('click', function () {
            $(`#slideMenu_${index + 1}`).slideToggle();
            $('.dropDownIcone').eq(index).toggleClass('rotate')
        })
    })


    //  When user click on user profile icone in header 
    $('.headerUserProfileImg').click(function () {
        $('.profileDteialsDropDown').slideToggle()
    });



    $('.menuBtn').click(function () {
        $('.leftSideBarBox').addClass('container');
        $('.sideBar').slideToggle('slow');

    })

</script>

</html>